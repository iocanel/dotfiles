# Auto-route all streams to BeoPlay H4 when connected

# First, configure the BeoPlay H4 with higher priority when available
monitor.bluez.rules = [
  {
    matches = [
      {
        device.name = "~bluez_card.*"
        device.description = "~.*BeoPlay H4.*"
      }
    ]
    actions = {
      update-props = {
        device.profile = "a2dp-sink"
        node.nick = "BeoPlay H4"
        device.description = "BeoPlay H4 Headphones"
        # Higher priority to prefer this device
        priority.driver = 2000
        priority.session = 2000
      }
    }
  }
]

# Route all streams to BeoPlay H4 when it becomes available
monitor.alsa.rules = [
  {
    matches = [
      {
        node.name = "~bluez_output.*BeoPlay_H4.*"
      }
    ]
    actions = {
      update-props = {
        node.nick = "BeoPlay H4"
        node.description = "BeoPlay H4 Headphones"
        # Set as default when available
        priority.driver = 2000
        priority.session = 2000
      }
    }
  }
]